# 多线程与并发专题

- Java线程
- java.util.concurrent(J.U.C)

<br />


### 1. 什么是缓存一致性问题？如何解决？

当程序在运行过程中，会将运算需要的数据从主存复制一份到CPU的高速缓存中。那么CPU进行计算时就可以直接从它的高速缓存读取数据和向它写入数据，
当运算结束后，再将高速缓存中的数据刷新到主存中。<br /> 
<br />
举个简单的例子，比如下面的一行代码：<br />
&nbsp;&nbsp;&nbsp;&nbsp; i = i + 1; <br />
当线程执行这条语句时，会先从主存中读取变量 i 的值，然后复制一份到高速缓存中，然后CPU执行指令对 i 进行加 1 操作，然后将数据写入到
高速缓存，最后将高速缓存中 i 最新的值刷新到主存中。<br />
<br />
在单线程中运行代码中是正常的，但在多线程中会出现问题。在多核CPU中，每个线程可能运行于不同的CPU中，因此每个线程运行时都有自己的高速缓存
（对于单核CPU，其实也会出现这种问题，只不过是以线程调度的形式分别执行的），此处以多核CPU进行阐述。<br />
<br />
2018-7-1 21:14:34


  


